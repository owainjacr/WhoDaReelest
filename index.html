<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Who da reelest!</title>
  <style>
    :root{
      --bg:#020617;
      --border:#1e293b;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --accent:#6366f1;
      --shadow: rgba(0,0,0,.45);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:
        radial-gradient(900px 420px at 50% -12%, #0f172a, transparent),
        radial-gradient(700px 360px at 10% 110%, #134e4a, transparent),
        var(--bg);
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    .frame{
      width:min(560px, 92vw);
      padding:18px;
      border:1px solid var(--border);
      border-radius:18px;
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow: 0 18px 40px var(--shadow);
      text-align:center;
    }
    .title{
      font-weight:900;
      font-size:22px;
      margin:2px 0 8px;
      letter-spacing:.2px;
    }
    .note{
      margin:0 0 14px;
      color:var(--muted);
      font-size:14px;
      line-height:1.45;
    }

    .stage{
      position:relative;
      display:grid;
      place-items:center;
      padding:10px 0 6px;
    }
    .wheelShell{
      position:relative;
      width:min(440px, 84vw);
      aspect-ratio:1/1;
      border-radius:50%;
      filter: drop-shadow(0 18px 22px rgba(0,0,0,.45));
      user-select:none;
    }
    canvas{
      width:100%;
      height:100%;
      display:block;
      border-radius:50%;
      border: 10px solid rgba(255,255,255,.06);
      background: rgba(255,255,255,.02);
    }
    .pointer{
      position:absolute;
      top:-7px;
      left:50%;
      transform:translateX(-50%);
      width:0;height:0;
      border-left:16px solid transparent;
      border-right:16px solid transparent;
      border-top:28px solid #f8fafc;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.45));
      z-index:5;
    }
    .pointer::after{
      content:"";
      position:absolute;
      top:-34px;
      left:-7px;
      width:14px;
      height:14px;
      background:#f8fafc;
      border-radius:50%;
      box-shadow: 0 6px 12px rgba(0,0,0,.35);
    }

    .controls{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin:12px 0 0;
    }
    button{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius:12px;
      padding:12px 14px;
      font-weight:900;
      background: var(--accent);
      color:white;
      box-shadow: 0 10px 22px rgba(99,102,241,.28);
      transition: transform .08s ease, filter .15s ease;
    }
    button:active{ transform: translateY(1px) scale(.99); }
    button:disabled{
      cursor:not-allowed;
      filter:saturate(.4) brightness(.85);
      box-shadow:none;
    }
    .ghost{
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
      box-shadow:none;
    }
    .result{
      margin-top:12px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background: rgba(2,6,23,.35);
      text-align:left;
    }
    .result .label{
      font-size:12px;
      color:var(--muted);
      letter-spacing:.35px;
      text-transform:uppercase;
    }
    .result .value{
      margin-top:6px;
      font-size:22px;
      font-weight:950;
    }
  </style>
</head>
<body>
  <div class="frame">
    <div class="title">Who da reelest!</div>
    <p class="note">Real talk; he the trillest nigga</p>

    <div class="stage">
      <div class="wheelShell" aria-label="Roulette wheel">
        <div class="pointer" aria-hidden="true"></div>
        <canvas id="wheel" width="900" height="900"></canvas>
      </div>
    </div>

    <div class="controls">
      <button id="spinBtn">Spin</button>
      <button id="resetBtn" class="ghost">Reset</button>
    </div>

    <div class="result" role="status" aria-live="polite">
      <div class="label">Winner</div>
      <div class="value" id="resultValue">—</div>
    </div>
  </div>

<script>
(() => {
  // Segment labels (includes Guy Morgan on the wheel)
  const NAMES = [
    "Guy Morgan",
    "Idris Elba",
    "Will Smith",
    "Michael B. Jordan",
    "Donald Glover",
    "Dev Patel",
    "Riz Ahmed",
    "Simu Liu",
    "Steven Yeun",
    "John Boyega",
    "Dwayne Johnson",
    "Bad Bunny",
    "The Weeknd",
    "Drake",
    "J Balvin",
    "Jason Momoa"
  ];

  const FIXED_NAME = "Guy Morgan";
  const FIXED_INDEX = NAMES.indexOf(FIXED_NAME); // always land here

  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const spinBtn = document.getElementById("spinBtn");
  const resetBtn = document.getElementById("resetBtn");
  const resultValue = document.getElementById("resultValue");

  let currentRotation = 0; // radians
  let isSpinning = false;
  let rafId = null;

  const TAU = Math.PI * 2;

  function drawWheel(rotationRad){
    const W = canvas.width, H = canvas.height;
    const cx = W/2, cy = H/2;
    const radius = Math.min(W, H) * 0.45;

    ctx.clearRect(0,0,W,H);

    // Outer ring
    ctx.save();
    ctx.translate(cx, cy);
    ctx.beginPath();
    ctx.arc(0, 0, radius + 22, 0, TAU);
    ctx.fillStyle = "rgba(255,255,255,0.04)";
    ctx.fill();
    ctx.restore();

    const n = NAMES.length;
    const slice = TAU / n;

    ctx.save();
    ctx.translate(cx, cy);
    ctx.rotate(rotationRad);

    for (let i = 0; i < n; i++){
      const start = i * slice;
      const end = start + slice;

      // Segment fill (alternating)
      const alt = i % 2 === 0;
      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.arc(0,0,radius,start,end);
      ctx.closePath();
      ctx.fillStyle = alt ? "rgba(99,102,241,0.24)" : "rgba(20,184,166,0.18)";
      ctx.fill();

      // Segment border
      ctx.strokeStyle = "rgba(148,163,184,0.18)";
      ctx.lineWidth = 2;
      ctx.stroke();

      // Text
      const mid = (start + end) / 2;
      ctx.save();
      ctx.rotate(mid);
      ctx.textAlign = "right";
      ctx.textBaseline = "middle";
      ctx.fillStyle = "rgba(248,250,252,0.92)";
      ctx.font = "900 28px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial";
      ctx.fillText(NAMES[i], radius - 18, 0);
      ctx.restore();
    }

    // Center cap
    ctx.beginPath();
    ctx.arc(0, 0, 78, 0, TAU);
    ctx.fillStyle = "rgba(2,6,23,0.72)";
    ctx.fill();
    ctx.lineWidth = 2;
    ctx.strokeStyle = "rgba(148,163,184,0.25)";
    ctx.stroke();

    ctx.fillStyle = "rgba(248,250,252,0.92)";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.font = "950 22px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial";
    ctx.fillText("WHO DA REELEST!", 0, -10);
    ctx.font = "950 18px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial";
    ctx.fillText("SPIN", 0, 18);

    ctx.restore();
  }

  function easeOutCubic(t){
    return 1 - Math.pow(1 - t, 3);
  }

  function spin(){
    if (isSpinning) return;
    isSpinning = true;
    spinBtn.disabled = true;
    resultValue.textContent = "Spinnin’…";

    const n = NAMES.length;
    const slice = TAU / n;
    const pointerAngle = -Math.PI / 2;

    // Land on Guy Morgan slice (centered)
    const targetMid = (FIXED_INDEX + 0.5) * slice;
    // pointerAngle - finalRotation ≡ targetMid (mod TAU)
    const finalBase = pointerAngle - targetMid;

    // Add extra spins for animation
    const extraSpins = 7 + Math.floor(Math.random() * 3); // 7..9
    const finalRotation = finalBase + extraSpins * TAU;

    const start = performance.now();
    const duration = 3600 + Math.random() * 800;
    const startRotation = currentRotation;
    const delta = finalRotation - startRotation;

    const tick = (now) => {
      const t = Math.min(1, (now - start) / duration);
      const e = easeOutCubic(t);
      currentRotation = startRotation + delta * e;

      drawWheel(currentRotation);

      if (t < 1){
        rafId = requestAnimationFrame(tick);
      } else {
        isSpinning = false;
        spinBtn.disabled = false;
        rafId = null;
        resultValue.textContent = FIXED_NAME;
      }
    };

    rafId = requestAnimationFrame(tick);
  }

  function reset(){
    if (rafId) cancelAnimationFrame(rafId);
    rafId = null;
    isSpinning = false;
    spinBtn.disabled = false;
    currentRotation = 0;
    drawWheel(currentRotation);
    resultValue.textContent = "—";
  }

  drawWheel(currentRotation);
  spinBtn.addEventListener("click", spin);
  resetBtn.addEventListener("click", reset);
  canvas.addEventListener("click", spin);
})();
</script>
</body>
</html>